<!-- views/adminRequestDetails.ejs -->
<h1>Creator Request Details</h1>
<div style="border: 1px solid #ccc; padding: 15px; border-radius: 5px; margin-bottom: 15px;">
  <p><strong>User:</strong> <%= request.user.username %> (<%= request.user.email %>)</p>
  <p><strong>Name:</strong> <%= request.firstName %> <%= request.lastName %></p>
  <p><strong>Requested At:</strong> <%= request.requestedAt.toLocaleString() %></p>
  <% if (request.bvnVerificationData && request.bvnVerificationData.verifiedAt) { %>
    <p><strong>BVN Verification:</strong> Verified</p>
    <p><strong>Verified Name:</strong> <%= request.bvnVerificationData.verifiedFirstName %> <%= request.bvnVerificationData.verifiedLastName %></p>
    <p><strong>Verified At:</strong> <%= new Date(request.bvnVerificationData.verifiedAt).toLocaleString() %></p>
  <% } else { %>
    <p><strong>BVN Verification:</strong> Not verified</p>
  <% } %>
  <p>
    <strong>Passport Photo:</strong>
    <% if (signedUrl) { %>
      <a href="<%= signedUrl %>" target="_blank">View Photo</a>
    <% } else { %>
      N/A
    <% } %>
  </p>
  <p>
    <strong>User Profile:</strong>
    <a href="/profile/view/<%= request.user._id %>" target="_blank">View Profile</a>
  </p>
</div>

<div>
  <form action="/admin/approve/<%= request._id %>" method="POST" style="display:inline; margin-right: 10px;">
    <button type="submit">Approve</button>
  </form>
  <form action="/admin/reject/<%= request._id %>" method="POST" style="display:inline;">
    <button type="submit">Reject</button>
  </form>
</div>

<a href="/admin/creator-requests">Back to Dashboard</a>